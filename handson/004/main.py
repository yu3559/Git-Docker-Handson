import os
from dotenv import load_dotenv
from chat_client import ChatClient

# .envãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ç’°å¢ƒå¤‰æ•°ã‚’ãƒ­ãƒ¼ãƒ‰
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã® .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ç´¢ã—ã¦èª­ã¿è¾¼ã‚€
load_dotenv()

# ç’°å¢ƒå¤‰æ•°ã‹ã‚‰APIã‚­ãƒ¼ã‚’å–å¾—
api_key = os.getenv("OPENAI_API_KEY")

def main():
    if not api_key:
        raise ValueError("âŒ APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚.envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚")

    # ChatClientã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ
    chat_client = ChatClient(api_key)

    # AIã«é€ä¿¡ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    message = "ã“ã‚“ã«ã¡ã¯ï¼è‡ªå·±ç´¹ä»‹ã‚’ã—ãªã„ã§ãã ã•ã„ã€‚"

    # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¦è¿”ä¿¡ã‚’å–å¾—
    response = chat_client.send_message(message)

    if response:
        print("-----------------------------------")
        print(f"ğŸ¤– AIã‹ã‚‰ã®è¿”ä¿¡:\n{response}")
        print("-----------------------------------")

if __name__ == "__main__":
    main() 